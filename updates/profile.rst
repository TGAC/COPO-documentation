.. _profile-update:

==============================
Updating Profiles
==============================

.. warning::

   Profile types cannot be changed or updated once profiles have been created.

   If you need to change the profile type, you will need to delete the profile and create a new one.

   Profiles can be deleted if they have no associated research objects such as samples, reads, assemblies or files etc.
   If you need to have a profile deleted that has associated research objects, please contact the
   :email:`COPO team <ei.copo@earlham.ac.uk>`.

.. note::

   Once the associated type has been updated during the profile update process, samples that have not been accepted
   and sent to :abbr:`ENA (European Nucleotide Archive)` associated with the profile will also have the associated
   profile type updated.

.. seealso::

   :ref:`Deleting Profiles <profile_deletion>`

To edit a profile, click the |vertical-ellipsis-icon| icon that is associated with the desired profile. The option
to edit or delete a profile record will be displayed once clicked.

..  figure:: /assets/images/profile/profile_options_edit_record.png
    :alt: Edit profile option
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile/profile_options_edit_record.png
    :class: with-shadow with-border
    :height: 400px

    **COPO Profile: Click the** ``Edit`` **button**

..  figure:: /assets/images/profile/profile_options_edit_record_details.png
    :alt: Profile update details
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile/profile_options_edit_record_details.png
    :class: with-shadow with-border
    :height: 550px

    **COPO Profile: Edit the existing details.  Click the** ``Save`` **button to update the profile.**


..  figure:: /assets/images/profile/profile_record_updated.png
    :alt: Profile updated message
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile_record_updated.png
    :class: with-shadow with-border

    **COPO Profile: Profile record has been updated.  Wait 3 seconds for the web page to be automatically reloaded.**

.. raw:: html

   <hr>


.. _profile_deletion:

Deleting Profiles
------------------------------

.. note::

    * Deleting a profile will **not** delete the associated COPO user account. The user account will still be able to log
      into the system.

    * Only profiles that have no associated research objects such as samples, reads, assemblies or files etc. can be
      deleted.

    * If you need to have a profile deleted that has associated research objects, please contact the :email:`COPO team <ei.copo@earlham.ac.uk>`.

To delete a profile,  click the |vertical-ellipsis-icon| icon that is associated with the desired profile. The option
to edit or delete a profile record will be displayed once clicked.

..  figure:: /assets/images/profile/profile_options_delete_record.png
    :alt: Delete profile option
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile/profile_options_delete_record.png
    :class: with-shadow with-border
    :height: 400px

    **COPO Profile: Click the** ``Delete`` **button**

..  figure:: /assets/images/profile/profile_options_delete_confirmation_dialogue.png
    :alt: Profile deletion confirmation dialogue
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile/profile_options_delete_confirmation_dialogue.png
    :class: with-shadow with-border

    **COPO Profile: A confirmation dialog will appear.  Click the** ``Confirm`` **button to confirm the deletion.**

..  figure:: /assets/images/profile/profile_options_delete_error_dialogue.png
    :alt: Profile deletion error dialogue
    :align: center
    :target: https://raw.githubusercontent.com/TGAC/COPO-documentation/main/assets/images/profile/profile_options_delete_error_dialogue.png
    :class: with-shadow with-border

    **COPO Profile: An error will occur if you try to remove a profile that that has associated samples or datafiles.**

The profile will automatically be removed and will no longer be displayed in the profile list once successfully deleted.

..
    Images declaration
..

.. |vertical-ellipsis-icon| image:: /assets/images/buttons/profile_vertical_ellipsis_icon.png
   :height: 4ex
   :class: no-scaled-link