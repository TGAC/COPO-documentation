.. _faq:

Frequently Asked Questions
==============================

.. hint::

   To view the entire answer to a question, collapse the answer by clicking the |collapsible-item-arrow| button below.

Dashboard
--------------------

How can I view accessions after I have submitted samples, reads, or experiments in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::  Click to view answer

   .. raw:: html

      <br>

   * Click the |accessions-dashboard-button| button.

   * The accessions dashboard will be displayed.

   * Alternatively, navigate to the `Accessions' dashboard <https://copo-project.org/copo/copo_accessions/dashboard>`__.

.. raw:: html

   <br>

Is there a way to analyse metadata submissions?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::  Yes, the following are ways to analyse metadata submissions:

   .. raw:: html

      <br>

   #. `Tree of Life dashboard <https://copo-project.org/copo/tol_dashboard/tol>`__
       * Alternatively, click the |tol-dashboard-button| button.
   #. `Tree of Life inspection web page <https://copo-project.org/copo/tol_dashboard/tol_inspectt>`__
       * Alternatively, click the |tol-inspect-button| button.
   #. `Tree of Life inspection by Genome Acquisition Lab web page <https://copo-project.org/copo/tol_dashboard/tol_inspect/gal>`__
       * Alternatively, click the |tol-inspect-by-gal-button| button.
   #. `Statistics web page <https://copo-project.org/copo/tol_dashboard/stats>`__

.. raw:: html

   <hr>

Manifest Update
--------------------

How can I update values for samples that I have submitted in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Reupload the amended manifest.

   .. raw:: html

      <br>

   .. note::
      * The manifest must be reuploaded in the same profile that the samples were submitted in.

   * The desired value(s) will be updated once the field value is not a compliance field [#f1]_.
   * See the :ref:`samples-update` section for information about which field values can be updated.

.. raw:: html

   <hr>

Permits
--------------------

Can I view or download permits that I have uploaded in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

  Yes, permits can be retrieved and downloaded by selecting the desired sample record(s) on the **Samples** web page

  Then, clicking the |download-permits-button1| button on the web page.

.. raw:: html

  <br>

Why am I unable to upload permit one after the other?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

   .. warning::

        * If you have more than one permit ﬁle to upload, they **must** be uploaded at the
          same time i.e. after you have clicked the |upload-permits-button| button, navigate
          to the directory where the permits are stored and ``CTRL + click`` all of the
          permits so that all the permits are highlighted and uploaded at the same time.

   * All permit ﬁles have to be selected/opened from the directory and uploaded
     together not one after the other.

.. raw:: html

   <hr>

Profiles
--------------------

How can I be added to a profile group?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

    * Make a request to the :email:`COPO team <ei.copo@earlham.ac.uk>` indicating
      the type of profile group that you would like to be assigned to.

    * The desired profile type will be displayed in the **Profile Type**
      dropdown menu in the **Add Profile** form after the request has been approved.

.. raw:: html

   <br>

How can I create a profile on COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

    * Click the |add-profile-button| button then, fill in and save the form displayed.

     ..  figure:: /assets/images/profile/profile_add_form.png
         :alt: Profile types dropdown menu
         :align: center
         :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/profile/profile_add_form.png
         :class: with-shadow with-border
         :width: 400px
         :height: 400px

         **Add Profile form: Choosing a Profile Type**

   * View the following video to see how to create a profile.

      ..  youtube:: 7xiVTNw6pPc
          :width: 640
          :height: 480
          :align: center

.. raw:: html

   <br>


How can I upload/submit research objects to a profile owned by another user or how can I create a group or how can I share my profile with others?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

See :ref:`sharing-profiles` section for more information.

.. raw:: html

   <br>

How can I add a subproject to a profile on COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   * In the **Add Profile** form, choose the desired subproject(s) from the list of
     associated projects as shown below.

   * See the :ref:`copo-project-associated-projects` section for information about the available subprojects.

   ..  figure:: /assets/images/profile/profile_form_associated_types.png
       :alt: Associated profile types dropdown menu
       :align: center
       :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/profile/profile_form_associated_types.png
       :class: with-shadow with-border
       :width: 400px
       :height: 400px

       **Add Profile form: Selecting Associated Profile Type dropdown menu**

.. raw:: html

   <br>

How can I add a subproject or secondary project to a primary project in ENA/Biosamples?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   * Contact the :email:`COPO team <ei.copo@earlham.ac.uk>` with the request
     providing the project accession of the child/subproject and the project accession of
     the parent/primary project.

.. raw:: html

   <br>

How can I edit or delete a profile that I have created in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   * Click the |vertical-ellipsis-icon| icon that is associated with the desired profile.

   * The option to edit or delete a profile record will be displayed once clicked.

   * The web page will refresh after the task has been completed successfully.

.. raw:: html

   <br>

How many profiles can I have in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: You can have as many profiles as needed to represent your research objects.

   .. raw:: html

      <br>

   * For instance, you can create a profile to represent work done as part of a grant,
     subproject within a project or a :abbr:`PhD (Doctorate of Philosophy)` project.

.. raw:: html

   <br>

How can I view more profiles that I have created in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Scroll downwards on the web page.

   .. raw:: html

      <br>

   * More profiles that you have created will be loaded.

.. raw:: html

   <br>

How can I view more information about a profile that I have created in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   .. note::
      * The |profile-view-more-button| button will only be associated with a profile if the profile has at least one
        of the following information.

   * Click the |profile-view-more-button| button associated with the profile.

   * After the button is clicked, a popup dialog will show at least one of the following information if it is available:

      * **Release Status** (if applicable)
      * **Release Date** (if applicable)
      * **Associated Profile Type(s)**
      * **Sequencing Centre**

   ..  figure:: /assets/images/profile/profile_view_more_button_with_popup_displayed.png
       :alt: Profile view more information popup dialog
       :align: center
       :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/profile/profile_view_more_button_with_popup_displayed.png
       :class: with-shadow with-border
       :width: 400px
       :height: 400px

       **Profile: View more information popup dialog**


.. raw:: html

   <br>

How can I navigate to the top of the web page after having loaded several work profiles?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Scroll upwards on the web page.

   .. raw:: html

      <br>

   * Alternatively, click the |navigate-to-top-button| button which automatically navigates
     to the top of the web page.

.. raw:: html

   <br>

How can I create components for a profile?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   #. Navigate to the work profile web page
   #. Click the |add-profile-button| button
   #. Fill in then, save the form that is displayed
   #. Click the |profile-actions-button| button associated with the created profile record to view
      a dropdown list of tasks that can be performed for that profile
   #. Complete the action/task
   #. Click the |profile-components-button| button associated with the profile record to view
      the component of the action that was performed

.. raw:: html

   <hr>

Samples
--------------------

Can I delete samples that have submitted?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   No, samples cannot be deleted after the manifest have been submitted.

.. raw:: html

   <br>

Can I retrieve samples or the manifest that have been submitted?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   Yes, see the :ref:`downloading-submitted-sample-manifest` section for more information.

.. raw:: html

   <br>

How can I view images that have been uploaded?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   See the :ref:`images-submission-view-images` section for more information.

.. raw:: html

   <br>

How can I download permits that have been uploaded?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   See the :ref:`permits-submission-download-permits` section for more information.

.. raw:: html

   <br>

What are the formats that I download samples in?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   The following are the formats that samples can be downloaded in:

   *  Microsoft Excel Spreadsheet format (``.xlsx``)

      See the :ref:`Downloading manifest in spreadsheet format <downloading-submitted-sample-manifest>` section
      for more information.

   * Comma-separated values (csv) format (``.csv``)

     On the **Samples** web page, click the |export-manifest-to-csv-format-button| button to download a manifest
     in csv format.

     See :ref:`How to access Samples web page <accessing-samples-web-page>` section for guidance.

.. raw:: html

   <hr>

.. _faq-sample-managers:

Sample Managers
--------------------

How can I be assigned as a sample manager?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   * Make a request to the :email:`COPO team <ei.copo@earlham.ac.uk>` indicating the type of profile group
     that you would like to be assigned as a sample manager.

   * The permission will be granted after the request has been approved.

.. raw:: html

   <br>

How can I know if I have been assigned as a sample manager?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. raw:: html

      <br>

   * The |accept-reject-samples-navigation-button| button will be displayed on the web page.

   * The **accept/reject samples** web page will be displayed once the button is clicked.

   * Alternatively, if you can navigate to the `Accept/Reject Samples' web page <https://copo-project.org/copo/dtol_submission/accept_reject_sample>`__
     with an **Unauthorisation** error web page being displayed then, you are a sample manager.

.. raw:: html

   <br>

How can I accept or reject samples that users have submitted?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse:: Click to view answer

   .. note::

      See :ref:`accessing-accept-reject-samples-web-page` section for guidelines on accessing the
      **Accept or Reject Samples** web page.


   See :ref:`accept-reject-samples` section for more information.

.. raw:: html

   <br>

Can I download permits that users have uploaded in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

   Yes, on the **Accept or Reject Samples** web page, permits can be downloaded by selecting the desired sample record(s)
   then, clicking the |download-permits-button2| button on the web page.

   See :ref:`Downloading permits <permits-submission-download-permits-sample-managers>` section for more information.

.. raw:: html

   <br>

Can I view images that users have uploaded in COPO?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

   Yes, on the **Accept or Reject Samples** web page, images can be viewed by selecting the desired sample record(s)
   then, clicking the |view-images-button2| button on the web page.

   See :ref:`Viewing images <images-submission-view-images-sample-managers>` section for more information.

.. raw:: html

  <br>

.. _faq-sample-managers-within-several-manifest-groups:

If I belong to more than one sample manager manifest group, how can I view or accept samples that belong to them?
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

.. collapse::   Click to view answer

   .. raw:: html

      <br>

   .. note::

      * The manifest dropdown menu will only be displayed on the **Accept or Reject samples** web page if you as a
        sample manager, belongs to more than one sample manager manifest group.

      * If the *dtol* sample manager group dropdown menu option is selected, both Aquatic Symbiosis Genomics (ASG)
        profiles and  Darwin Tree of Life (DToL) profiles will be displayed in the **All profiles** tab and/or
        **Profiles for My Sequencing Centre** the **Accept or Reject samples** web page will be displayed
        (if any exists).

   * Choose desired sample manager group from the manifest group dropdown menu.

   * Click the |accept-reject-samples-navigation-button| button to accept or reject samples.

     .. figure:: /assets/images/profile/profile_new_user_add_email_address_dialogue.png
        :alt: Add email address dialogue
        :align: center
        :class: with-shadow with-border

        **Accept or Reject samples: Email address prompt shown when a user logs into COPO for the first time**


   See :ref:`Viewing images <images-submission-view-images-sample-managers>` section for more information.

.. raw:: html

  <br>

.. raw:: html

   <hr>

.. rubric:: Footnotes

.. [#f1] See term: :term:`Compliance field`


..
    Images declaration
..
.. |accept-reject-samples-navigation-button| image:: /assets/images/buttons/samples_accept_reject_navigation_button.png
   :height: 4ex
   :class: no-scaled-link

.. |accessions-dashboard-button| image:: /assets/images/buttons/dashboard_accessions_button.png
   :height: 4ex
   :class: no-scaled-link

.. |add-profile-button| image:: /assets/images/buttons/add_button.png
   :height: 4ex
   :class: no-scaled-link

.. |collapsible-item-arrow| image:: /assets/images/buttons/collapsible_item_arrow.png
   :height: 2ex
   :class: no-scaled-link

.. |download-permits-button1| image:: /assets/images/buttons/permits_download_button1.png
   :height: 4ex
   :class: no-scaled-link

.. |download-permits-button2| image:: /assets/images/buttons/permits_download_button2.png
   :height: 4ex
   :class: no-scaled-link

.. |export-manifest-to-csv-format-button| image:: /assets/images/buttons/samples_export_to_csv_format_button.png
   :height: 4ex
   :class: no-scaled-link

.. |navigate-to-top-button| image:: /assets/images/buttons/navigate_to_top_button.png
   :height: 4ex
   :class: no-scaled-link

.. |profile-actions-button| image:: /assets/images/buttons/profile_actions_button.png
   :height: 4ex
   :class: no-scaled-link

.. |profile-view-more-button| image:: /assets/images/buttons/profile_view_more_button.png
   :height: 4ex
   :class: no-scaled-link

.. |profile-components-button| image:: /assets/images/buttons/profile_components_button.png
   :height: 4ex
   :class: no-scaled-link

.. |tol-dashboard-button| image:: /assets/images/buttons/dashboard_tol_button.png
   :height: 4ex
   :class: no-scaled-link

.. |tol-inspect-button| image:: /assets/images/buttons/tol_inspect_button.png
   :height: 4ex
   :class: no-scaled-link

.. |tol-inspect-by-gal-button| image:: /assets/images/buttons/tol_inspect_by_gal_button.png
   :height: 4ex
   :class: no-scaled-link

.. |upload-permits-button| image:: /assets/images/buttons/permits_upload_button.png
   :height: 4ex
   :class: no-scaled-link

.. |vertical-ellipsis-icon| image:: /assets/images/buttons/profile_vertical_ellipsis_icon.png
   :height: 4ex
   :class: no-scaled-link

.. |view-images-button1| image:: /assets/images/buttons/images_view_button1.png
   :height: 4ex
   :class: no-scaled-link

.. |view-images-button2| image:: /assets/images/buttons/images_view_button2.png
   :height: 4ex
   :class: no-scaled-link