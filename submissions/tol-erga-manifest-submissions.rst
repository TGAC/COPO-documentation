.. _tol-erga_manifest-submissions:

==============================
How to Submit ERGA Manifests
==============================

.. note::

  * **ERGA** [#f1]_  manifest submission can only be done via a :abbr:`ToL (Tree of Life)` [#f2]_ profile [#f3]_. Please see:
    :ref:`Steps to Create a Tree of Life Profile <tol-profile-walkthrough>` for guidance.

  * In the **Add Profile** form, the **Profile type** dropdown menu will only display the **Stand-alone** option when
    creating a profile on COPO. :email:`Contact the COPO team <ei.copo@earlham.ac.uk>` inorder to be added to a desired
    profile group and be granted access to choose your desired profile type group.

  *  Samples cannot be deleted after they have been submitted.

.. seealso::
  * :ref:`How to Update Samples <samples-update>`
  * :ref:`How to Submit Permits <permits-submission>`
  * :ref:`How to Submit Images <images-submission>`
  * :ref:`How to Submit Barcoding Manifests <barcoding-manifest-submissions>`
  * :ref:`Accessions profile component <accessions-component-tol>`

.. raw:: html

   <hr>

--------------------------------
Accessing the Samples' Web Page
--------------------------------
The Samples' web page can be accessed from the **Components** button or **Actions** button associated with a profile.

.. raw:: html

   <hr>

Use Components' Button to Navigate to Samples' Web Page
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Click the |profile-components-button| button associated with a profile. Then, click the  |samples-component-button| from
the popup menu displayed as shown below:

.. figure:: /assets/images/profile/profile_tol_profile_components_samples.png
  :alt: Samples' profile component
  :align: center
  :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/profile/profile_tol_profile_components_samples.png
  :class: with-shadow with-border

  **Tree of Life Profile Components: Samples component button**

.. raw:: html

   <hr>

Use Actions' Button to Navigate to Samples' Web Page
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~

Click the |profile-actions-button| button associated with a profile. Then, click the action,
**Submit ERGA manifest** action from the popup menu displayed as shown below:

.. figure:: /assets/images/profile/profile_tol_profile_actions_erga_submit_sample_manifest.png
  :alt: 'Submit ERGA manifest' profile action
  :align: center
  :height: 60ex
  :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/profile/profile_tol_profile_actions_erga_submit_sample_manifest.png
  :class: with-shadow with-border

  **Tree of Life Profile Actions: 'Submit ERGA manifest' action**

.. raw:: html

   <hr>

----------------------
Submit ERGA Manifest
----------------------

.. hint::

  To download an **ERGA** manifest template, click the |blank-manifest-download-button| button.

#. Click |add-erga-manifest-button| button to add a **ERGA** manifest from your local (computer) system.

    .. figure:: /assets/images/samples/erga/erga_pointer_to_add_manifest_button.png
      :alt: Pointer to 'Add Sample(s) from ERGA Spreadsheet' button
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/erga_pointer_to_add_manifest_button.png
      :class: with-shadow with-border

      **ERGA manifest submission: Click 'Add Sample(s) from ERGA Spreadsheet' button**

   .. raw:: html

      <br>

#. An **Accept Code of Conduct** popup dialogue is displayed. If you decide to accept it, click the **Ok** button.

    .. figure:: /assets/images/samples/erga/samples_accept_code_of_conduct_dialogue.png
      :alt: 'Accept Code of Conduct' dialogue
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_accept_code_of_conduct_dialogue.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Accept Code of Conduct' dialogue**

#. An **Upload Spreadsheet** dialogue is then, displayed. Click the **Upload Sample Manifest** button to choose a file from
   your local system.

    .. figure:: /assets/images/samples/samples_upload_spreadsheet_dialogue.png
      :alt: Upload Spreadsheet dialogue
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/samples_upload_spreadsheet_dialogue.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue**

   .. raw:: html

      <br>

#. The uploaded samples are shown in a table in the **Upload Spreadsheet** dialogue as shown below. Click the
   |finish-button| button to submit the samples.

   A :ref:`Submit Samples dialogue <samples-web-page-with-submitted-samples>` is then displayed before the samples
   can be submitted.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_uploaded_samples.png
      :alt: Upload Spreadsheet dialogue
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_uploaded_samples.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with uploaded samples**

.. raw:: html

  <hr>

.. _images-submission:

Submit Images
~~~~~~~~~~~~~~~~~~~~

.. note::

   * Permits can only be submitted after samples have been uploaded in the **Upload Spreadsheet** dialogue.

   * Permits can only be submitted via a ToL profile. Please see: :ref:`Steps to Create a Tree of Life Profile
     <tol-profile-walkthrough>`for guidance.

   * The filename of sample images must be named as ``{Specimen_ID}-{n}.[jpg|png]`` where ``{n}`` is the image number,
     ``{Specimen_ID}`` is the specimen ID of the sample in the manifest and ``jpg`` or ``png`` is the extension of the file.


#. The images table is empty under the **Sample Images** tab in the **Upload Spreadsheet** dialogue.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_no_images_uploaded.png
      :alt: Upload Spreadsheet dialogue with no image uploaded
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_no_images_uploaded.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with no permits uploaded**

#. The images table is populated with the permits uploaded under the **Sample Images** tab in the
   **Upload Spreadsheet** dialogue. Click the |finish-button| button to submit the images and samples.

   A :ref:`Submit Samples dialogue <samples-web-page-with-submitted-samples>` is then displayed before the samples
   can be submitted.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_images_uploaded.png
      :alt: Upload Spreadsheet dialogue with image(s) uploaded
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_images_uploaded.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with image(s) uploaded**


.. raw:: html

  <hr>

.. _permits-submission:

Submit Permits
~~~~~~~~~~~~~~~~~~~~

.. note::

   * Permits can only be submitted after samples have been uploaded in the **Upload Spreadsheet** dialogue.

   * Permits can only be submitted via a :abbr:`ToL (Tree of Life)` [#f2]_ profile [#f3]_. Please see:
     :ref:`Steps to Create a Tree of Life Profile <tol-profile-walkthrough>` for guidance.

.. warning::
    * If you have more than one permit Ô¨Åle to upload, they **must** be uploaded at the
      same time i.e. after you have clicked the |upload-permits-button| button, navigate
      to the directory where the permits are stored and ``CTRL + click`` all of the
      permits so that all the permits are highlighted and uploaded at the same time.


#. The uploaded samples are shown in a table in the **Upload Spreadsheet** dialogue as shown below. Click the
   |upload-permits-button| button to browse your local (computer) system for ``.pdf`` permits for the samples.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_uploaded_samples_permits_required.png
      :alt: Upload Spreadsheet dialogue with uploaded samples
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_uploaded_samples_permits_required.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with uploaded samples**

#. The permits table is empty under the **Sample Permits** tab in the **Upload Spreadsheet** dialogue.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_no_permits_uploaded.png
      :alt: Upload Spreadsheet dialogue with no permits uploaded
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_no_permits_uploaded.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with no permits uploaded**

#. The permits table is populated with the permits uploaded under the **Sample Permits** tab in the
   **Upload Spreadsheet** dialogue. Click the |finish-button| button to submit the permits and samples.

   A :ref:`Submit Samples dialogue <samples-web-page-with-submitted-samples>` is then displayed before the samples
   can be submitted.

    .. figure:: /assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_permits_uploaded.png
      :alt: Upload Spreadsheet dialogue with permits uploaded
      :align: center
      :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/samples_erga_upload_spreadsheet_dialogue_with_permits_uploaded.png
      :class: with-shadow with-border

      **ERGA manifest submission: 'Upload Spreadsheet' dialogue with permits uploaded**

.. raw:: html

  <hr>

.. _samples-web-page-with-submitted-samples:

A **Submit Samples** confirmation dialogue is displayed. If you decide to confirm the samples submission, click
the **Confirm** button.

   .. figure:: /assets/images/samples/samples_submit_samples_dialogue.png
     :alt: 'Submit Samples' confirmation dialogue
     :align: center
     :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/samples_submit_samples_dialogue.png
     :class: with-shadow with-border

     **ERGA manifest submission: 'Submit Samples' confirmation dialogue**

The new sample(s) will be displayed on the **Samples** web page after the confirmation.

   .. figure:: /assets/images/samples/erga/erga_samples_submitted.png
     :alt: Sample(s) submitted
     :align: center
     :target: https://raw.githubusercontent.com/collaborative-open-plant-omics/Documentation/main/assets/images/samples/erga/erga_samples_submitted.png
     :class: with-shadow with-border

     **ERGA manifest submission: Samples' web page displaying the submitted sample(s)**

.. raw:: html

   <br>

.. raw:: html

   <hr>

.. rubric:: Footnotes
.. [#f1] See term: :term:`ERGA`.
.. [#f2] See term: :term:`Tree of Life (ToL) <ToL>`.
.. [#f3] Also known as COPO profile. See: :term:`COPO profile/work profile<COPO profile>`.


.. raw:: html

   <br><br>

..
    Images declaration
..
.. |add-erga-manifest-button| image:: /assets/images/buttons/add_erga_manifest_button.png
   :height: 4ex
   :class: no-scaled-link

.. |blank-manifest-download-button| image:: /assets/images/buttons/download_button.png
   :height: 4ex
   :class: no-scaled-link

.. |finish-button| image:: /assets/images/buttons/finish_button.png
   :height: 4ex
   :class: no-scaled-link

.. |samples-component-button| image:: /assets/images/buttons/components_samples_button.png
   :height: 4ex
   :class: no-scaled-link

.. |profile-actions-button| image:: /assets/images/buttons/profile_actions_button.png
   :height: 4ex
   :class: no-scaled-link

.. |profile-components-button| image:: /assets/images/buttons/profile_components_button.png
   :height: 4ex
   :class: no-scaled-link

.. |upload-permits-button| image:: /assets/images/buttons/permits_upload_button.png
   :height: 4ex
   :class: no-scaled-link
